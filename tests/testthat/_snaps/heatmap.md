# heatmap_d3 should show a heatmap with all the components when correct input is passed (continuous Z) (snapshot)

    Code
      app$get_js(SVG_JS_QUERY)
    Output
      [1] "<svg width=\"735\" height=\"400\" style=\"background: rgb(255, 255, 255); fill: rgb(0, 0, 0); color: rgb(0, 0, 0);\"><style type=\"text/css\"></style><g id=\"mod-svg\" transform=\"translate(45,10)\"><g id=\"mod-tile\"><rect x=\"31.428571428571445\" y=\"1\" width=\"273.85714285714283\" height=\"167\" style=\"fill: rgb(255, 0, 0);\"></rect><rect x=\"335.7142857142857\" y=\"1\" width=\"273.85714285714283\" height=\"167\" style=\"fill: rgb(170, 0, 85);\"></rect><rect x=\"31.428571428571445\" y=\"168\" width=\"273.85714285714283\" height=\"167\" style=\"fill: rgb(85, 0, 170);\"></rect><rect x=\"335.7142857142857\" y=\"168\" width=\"273.85714285714283\" height=\"167\" style=\"fill: rgb(0, 0, 255);\"></rect></g><g id=\"mod-label\"><text text-anchor=\"start\" font-size=\"20\" transform=\"translate(277.9,168)rotate(-90)\" style=\"\">1</text><text text-anchor=\"start\" font-size=\"20\" transform=\"translate(582.1857142857143,168)rotate(-90)\" style=\"\">2</text><text text-anchor=\"start\" font-size=\"20\" transform=\"translate(277.9,335)rotate(-90)\" style=\"\">3</text><text text-anchor=\"start\" font-size=\"20\" transform=\"translate(582.1857142857143,335)rotate(-90)\" style=\"\">4</text></g><g id=\"mod-x_axis\" fill=\"none\" font-size=\"10\" font-family=\"sans-serif\" text-anchor=\"middle\" transform=\"translate(0, 335)\"><path class=\"domain\" stroke=\"currentColor\" d=\"M1.5,6V0.5H640.5V6\"></path><g class=\"tick\" opacity=\"1\" transform=\"translate(168.35714285714286,0)\"><line stroke=\"currentColor\" y2=\"6\"></line><text fill=\"currentColor\" y=\"0\" dy=\".35em\" x=\"9\" transform=\"rotate(90)\" style=\"text-anchor: start;\">x_A</text></g><g class=\"tick\" opacity=\"1\" transform=\"translate(472.6428571428571,0)\"><line stroke=\"currentColor\" y2=\"6\"></line><text fill=\"currentColor\" y=\"0\" dy=\".35em\" x=\"9\" transform=\"rotate(90)\" style=\"text-anchor: start;\">x_B</text></g><g id=\"mod-x_title\"><text fill=\"currentColor\" text-anchor=\"middle\" font-size=\"1.25em\" transform=\"translate(320.5, 42)\">x_title</text></g></g><g id=\"mod-y_axis\" fill=\"none\" font-size=\"10\" font-family=\"sans-serif\" text-anchor=\"end\"><path class=\"domain\" stroke=\"currentColor\" d=\"M-6,1.5H0.5V335.5H-6\"></path><g class=\"tick\" opacity=\"1\" transform=\"translate(0,84.5)\"><line stroke=\"currentColor\" x2=\"-6\"></line><text fill=\"currentColor\" x=\"-9\" dy=\"0.32em\">y_A</text></g><g class=\"tick\" opacity=\"1\" transform=\"translate(0,251.5)\"><line stroke=\"currentColor\" x2=\"-6\"></line><text fill=\"currentColor\" x=\"-9\" dy=\"0.32em\">y_B</text></g><g id=\"mod-y_title\"><text fill=\"currentColor\" text-anchor=\"middle\" font-size=\"1.25em\" transform=\"translate(-37, 168)rotate(-90)\">y_title</text></g></g><g id=\"mod-z_axis\"><g transform=\"translate(635,0)\"><svg width=\"20\" height=\"335\" viewBox=\"0,0,20,335\" style=\"overflow: visible; display: block;\"><image x=\"5\" y=\"5\" width=\"10\" height=\"325\" preserveAspectRatio=\"none\" xlink:href=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAEACAYAAAByPhyYAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAMiSURBVDhPDdQDAgAEAACxZdu2bdu2bdu2bdu2bdu2bXe1RwxlAP9mQP9kIH9nYH9lEH9mUH9kML9ncL9lCL9mSL9kKD9naD9lGD9mWD9kON9neN9lBN9mRN9kJF9nZF9lFF9mVF9kNJ9ndJ9lDJ9mTJ9kLB9nbB9lHB9mXB9kPO9nfO9lAu9mQu9kIm9nYm9lEm9mUm9kMq9ncq9lCq9mSq9kKi9nai9lGi9mWi9kOs9nes9lBs9mRs9kJk9nZk9lFk9mVk9kNo9ndo9lDo9mTo9kLg9nbg9lHg9mXg9kPvdnfvdlAfdmQfdkIXdnYXdlEXdmUXdkMbdncbdlCbdmSbdkKTdnaTdlGTdmWTdkOddneddlBddmRddkJVdnZVdlFVdmVVdkNZdndZdlDZdmTZdkLRdnbRdlHRdmXRdkPednfedlA+dmQ+dkI2dnY2dlE2dmU2dkM6dnc6dlC6dmS6dkKydnaydlGydmWydkO8dne8dlB8dmR8dkJ0dnZ0dlF0dmV0dkN4dnd4dlD4dmT4dkLwdnbwdlHwdmXwdkP/tnf/vlAPvmQPvkIHvnYHvlEHvmUHvkMLvncLvlCLvmSLvkKDvnaDvlGDvmWDvkONvneNvlBNvmRNvkJFvnZFvlFFvmVFvkNJvndJvlDJvmTJvkLBvnbBvlHBvmXBvkPOvnfOvlAuvmQuvkImvnYmvlEmvmUmvkMqvncqvlCqvmSqvkKivnaivlGivmWivkOsvnesvlBsvmRsvkJkvnZkvlFkvmVkvkNovndovlDovmTovkLgvnbgvlHgvmXgvkPvPnfvPlAfPmQfPkIXPnYXPlEXPmUXPkMbPncbPlCbPmSbPkKTPnaTPlGTPmWTPkOdPnedPlBdPmRdPkJVPnZVPlFVPmVVPkNZPndZPlDZPmTZPkLRPnbRPlHRPmXRPkPePnfePlA+PmQ+PkI2PnY2PlE2PmU2PkM6Pnc6PlC6PmS6PkKyPnayPlGyPmWyPkO8Pne8PlB8PmR8PkJ0PnZ0PlF0PmV0PkN4Pnd4PlD4PmT4PkLwPnbwPlHwPmXwOk/+/7D1Cm/hDnjnymAAAAAElFTkSuQmCC\"></image><g transform=\"translate(20,0)\" fill=\"none\" font-size=\"10\" font-family=\"sans-serif\" text-anchor=\"start\"><g class=\"tick\" opacity=\"1\" transform=\"translate(0,330.5)\"><line stroke=\"currentColor\" x2=\"0\"></line><text fill=\"currentColor\" x=\"3\" dy=\"0.32em\">1</text></g><g class=\"tick\" opacity=\"1\" transform=\"translate(0,222.5)\"><line stroke=\"currentColor\" x2=\"0\"></line><text fill=\"currentColor\" x=\"3\" dy=\"0.32em\">2</text></g><g class=\"tick\" opacity=\"1\" transform=\"translate(0,113.5)\"><line stroke=\"currentColor\" x2=\"0\"></line><text fill=\"currentColor\" x=\"3\" dy=\"0.32em\">3</text></g><g class=\"tick\" opacity=\"1\" transform=\"translate(0,5.5)\"><line stroke=\"currentColor\" x2=\"0\"></line><text fill=\"currentColor\" x=\"3\" dy=\"0.32em\">4</text></g><text x=\"-331\" y=\"5\" fill=\"currentColor\" text-anchor=\"start\" font-weight=\"bold\" class=\"title\"></text></g></svg></g></g></g></svg>"

# heatmap_d3 should show a heatmap with all the components when correct input is passed (categorical Z) (snapshot)

    Code
      app$get_js(SVG_JS_QUERY)
    Output
      [1] "<svg width=\"735\" height=\"400\" style=\"background: rgb(255, 255, 255); fill: rgb(0, 0, 0); color: rgb(0, 0, 0);\"><style type=\"text/css\"></style><g id=\"mod-svg\" transform=\"translate(45,10)\"><g id=\"mod-tile\"><rect x=\"59.09090909090912\" y=\"1\" width=\"522.8181818181818\" height=\"167\" style=\"fill: red;\"></rect><rect x=\"59.09090909090912\" y=\"168\" width=\"522.8181818181818\" height=\"167\" style=\"fill: blue;\"></rect></g><g id=\"mod-label\"><text text-anchor=\"start\" font-size=\"20\" transform=\"translate(529.6272727272727,168)rotate(-90)\" style=\"\">l_A</text><text text-anchor=\"start\" font-size=\"20\" transform=\"translate(529.6272727272727,335)rotate(-90)\" style=\"\">l_B</text></g><g id=\"mod-x_axis\" fill=\"none\" font-size=\"10\" font-family=\"sans-serif\" text-anchor=\"middle\" transform=\"translate(0, 335)\"><path class=\"domain\" stroke=\"currentColor\" d=\"M1.5,6V0.5H640.5V6\"></path><g class=\"tick\" opacity=\"1\" transform=\"translate(320.5,0)\"><line stroke=\"currentColor\" y2=\"6\"></line><text fill=\"currentColor\" y=\"0\" dy=\".35em\" x=\"9\" transform=\"rotate(90)\" style=\"text-anchor: start;\">x_AAA</text></g><g id=\"mod-x_title\"><text fill=\"currentColor\" text-anchor=\"middle\" font-size=\"1.25em\" transform=\"translate(320.5, 55)\">x_title</text></g></g><g id=\"mod-y_axis\" fill=\"none\" font-size=\"10\" font-family=\"sans-serif\" text-anchor=\"end\"><path class=\"domain\" stroke=\"currentColor\" d=\"M-6,1.5H0.5V335.5H-6\"></path><g class=\"tick\" opacity=\"1\" transform=\"translate(0,84.5)\"><line stroke=\"currentColor\" x2=\"-6\"></line><text fill=\"currentColor\" x=\"-9\" dy=\"0.32em\">y_AAA</text></g><g class=\"tick\" opacity=\"1\" transform=\"translate(0,251.5)\"><line stroke=\"currentColor\" x2=\"-6\"></line><text fill=\"currentColor\" x=\"-9\" dy=\"0.32em\">y_BBB</text></g><g id=\"mod-y_title\"><text fill=\"currentColor\" text-anchor=\"middle\" font-size=\"1.25em\" transform=\"translate(-51, 168)rotate(-90)\">y_title</text></g></g><g id=\"mod-z_axis\"><g transform=\"translate(635,0)\"><svg width=\"20\" height=\"335\" viewBox=\"0,0,20,335\" style=\"overflow: visible; display: block;\"><g><rect x=\"5\" y=\"6\" height=\"161\" width=\"10\" fill=\"red\"></rect><rect x=\"5\" y=\"168\" height=\"161\" width=\"10\" fill=\"blue\"></rect></g><g transform=\"translate(20,0)\" fill=\"none\" font-size=\"10\" font-family=\"sans-serif\" text-anchor=\"start\"><g class=\"tick\" opacity=\"1\" transform=\"translate(0,87.5)\"><line stroke=\"currentColor\" x2=\"0\"></line><text fill=\"currentColor\" x=\"3\" dy=\"0.32em\">A</text></g><g class=\"tick\" opacity=\"1\" transform=\"translate(0,249.5)\"><line stroke=\"currentColor\" x2=\"0\"></line><text fill=\"currentColor\" x=\"3\" dy=\"0.32em\">B</text></g><text x=\"-331\" y=\"5\" fill=\"currentColor\" text-anchor=\"start\" font-weight=\"bold\" class=\"title\"></text></g></svg></g></g></g></svg>"

# heatmap_d3 should accept colors and NAs in the color column

    Code
      app$get_js(SVG_JS_QUERY)
    Output
      [1] "<svg width=\"735\" height=\"400\" style=\"background: rgb(255, 255, 255); fill: rgb(0, 0, 0); color: rgb(0, 0, 0);\"><style type=\"text/css\"></style><g id=\"mod-svg\" transform=\"translate(45,10)\"><g id=\"mod-tile\"><rect x=\"59.09090909090912\" y=\"1\" width=\"522.8181818181818\" height=\"167\" style=\"fill: orange;\"></rect><rect x=\"59.09090909090912\" y=\"168\" width=\"522.8181818181818\" height=\"167\" style=\"fill: rgb(0, 0, 255);\"></rect></g><g id=\"mod-label\"><text text-anchor=\"start\" font-size=\"20\" transform=\"translate(529.6272727272727,168)rotate(-90)\" style=\"\">1000</text><text text-anchor=\"start\" font-size=\"20\" transform=\"translate(529.6272727272727,335)rotate(-90)\" style=\"\">2000</text></g><g id=\"mod-x_axis\" fill=\"none\" font-size=\"10\" font-family=\"sans-serif\" text-anchor=\"middle\" transform=\"translate(0, 335)\"><path class=\"domain\" stroke=\"currentColor\" d=\"M1.5,6V0.5H640.5V6\"></path><g class=\"tick\" opacity=\"1\" transform=\"translate(320.5,0)\"><line stroke=\"currentColor\" y2=\"6\"></line><text fill=\"currentColor\" y=\"0\" dy=\".35em\" x=\"9\" transform=\"rotate(90)\" style=\"text-anchor: start;\">x_AAA</text></g><g id=\"mod-x_title\"><text fill=\"currentColor\" text-anchor=\"middle\" font-size=\"1.25em\" transform=\"translate(320.5, 55)\">x_title</text></g></g><g id=\"mod-y_axis\" fill=\"none\" font-size=\"10\" font-family=\"sans-serif\" text-anchor=\"end\"><path class=\"domain\" stroke=\"currentColor\" d=\"M-6,1.5H0.5V335.5H-6\"></path><g class=\"tick\" opacity=\"1\" transform=\"translate(0,84.5)\"><line stroke=\"currentColor\" x2=\"-6\"></line><text fill=\"currentColor\" x=\"-9\" dy=\"0.32em\">y_AAA</text></g><g class=\"tick\" opacity=\"1\" transform=\"translate(0,251.5)\"><line stroke=\"currentColor\" x2=\"-6\"></line><text fill=\"currentColor\" x=\"-9\" dy=\"0.32em\">y_BBB</text></g><g id=\"mod-y_title\"><text fill=\"currentColor\" text-anchor=\"middle\" font-size=\"1.25em\" transform=\"translate(-51, 168)rotate(-90)\">y_title</text></g></g><g id=\"mod-z_axis\"><g transform=\"translate(635,0)\"><svg width=\"20\" height=\"335\" viewBox=\"0,0,20,335\" style=\"overflow: visible; display: block;\"><image x=\"5\" y=\"5\" width=\"10\" height=\"325\" preserveAspectRatio=\"none\" xlink:href=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAEACAYAAAByPhyYAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAMiSURBVDhPDdQDAgAEAACxZdu2bdu2bdu2bdu2bdu2bXe1RwxlAP9mQP9kIH9nYH9lEH9mUH9kML9ncL9lCL9mSL9kKD9naD9lGD9mWD9kON9neN9lBN9mRN9kJF9nZF9lFF9mVF9kNJ9ndJ9lDJ9mTJ9kLB9nbB9lHB9mXB9kPO9nfO9lAu9mQu9kIm9nYm9lEm9mUm9kMq9ncq9lCq9mSq9kKi9nai9lGi9mWi9kOs9nes9lBs9mRs9kJk9nZk9lFk9mVk9kNo9ndo9lDo9mTo9kLg9nbg9lHg9mXg9kPvdnfvdlAfdmQfdkIXdnYXdlEXdmUXdkMbdncbdlCbdmSbdkKTdnaTdlGTdmWTdkOddneddlBddmRddkJVdnZVdlFVdmVVdkNZdndZdlDZdmTZdkLRdnbRdlHRdmXRdkPednfedlA+dmQ+dkI2dnY2dlE2dmU2dkM6dnc6dlC6dmS6dkKydnaydlGydmWydkO8dne8dlB8dmR8dkJ0dnZ0dlF0dmV0dkN4dnd4dlD4dmT4dkLwdnbwdlHwdmXwdkP/tnf/vlAPvmQPvkIHvnYHvlEHvmUHvkMLvncLvlCLvmSLvkKDvnaDvlGDvmWDvkONvneNvlBNvmRNvkJFvnZFvlFFvmVFvkNJvndJvlDJvmTJvkLBvnbBvlHBvmXBvkPOvnfOvlAuvmQuvkImvnYmvlEmvmUmvkMqvncqvlCqvmSqvkKivnaivlGivmWivkOsvnesvlBsvmRsvkJkvnZkvlFkvmVkvkNovndovlDovmTovkLgvnbgvlHgvmXgvkPvPnfvPlAfPmQfPkIXPnYXPlEXPmUXPkMbPncbPlCbPmSbPkKTPnaTPlGTPmWTPkOdPnedPlBdPmRdPkJVPnZVPlFVPmVVPkNZPndZPlDZPmTZPkLRPnbRPlHRPmXRPkPePnfePlA+PmQ+PkI2PnY2PlE2PmU2PkM6Pnc6PlC6PmS6PkKyPnayPlGyPmWyPkO8Pne8PlB8PmR8PkJ0PnZ0PlF0PmV0PkN4Pnd4PlD4PmT4PkLwPnbwPlHwPmXwOk/+/7D1Cm/hDnjnymAAAAAElFTkSuQmCC\"></image><g transform=\"translate(20,0)\" fill=\"none\" font-size=\"10\" font-family=\"sans-serif\" text-anchor=\"start\"><g class=\"tick\" opacity=\"1\" transform=\"translate(0,330.5)\"><line stroke=\"currentColor\" x2=\"0\"></line><text fill=\"currentColor\" x=\"3\" dy=\"0.32em\">1</text></g><g class=\"tick\" opacity=\"1\" transform=\"translate(0,222.5)\"><line stroke=\"currentColor\" x2=\"0\"></line><text fill=\"currentColor\" x=\"3\" dy=\"0.32em\">2</text></g><g class=\"tick\" opacity=\"1\" transform=\"translate(0,113.5)\"><line stroke=\"currentColor\" x2=\"0\"></line><text fill=\"currentColor\" x=\"3\" dy=\"0.32em\">3</text></g><g class=\"tick\" opacity=\"1\" transform=\"translate(0,5.5)\"><line stroke=\"currentColor\" x2=\"0\"></line><text fill=\"currentColor\" x=\"3\" dy=\"0.32em\">4</text></g><text x=\"-331\" y=\"5\" fill=\"currentColor\" text-anchor=\"start\" font-weight=\"bold\" class=\"title\"></text></g></svg></g></g></g></svg>"

# heatmap_d3 should show a heatmap with all the components when two values have the same color in the palette (categorical Z) (snapshot)

    Code
      app$get_js(SVG_JS_QUERY)
    Output
      [1] "<svg width=\"735\" height=\"400\" style=\"background: rgb(255, 255, 255); fill: rgb(0, 0, 0); color: rgb(0, 0, 0);\"><style type=\"text/css\"></style><g id=\"mod-svg\" transform=\"translate(45,10)\"><g id=\"mod-tile\"><rect x=\"59.09090909090912\" y=\"1\" width=\"522.8181818181818\" height=\"167\" style=\"fill: red;\"></rect><rect x=\"59.09090909090912\" y=\"168\" width=\"522.8181818181818\" height=\"167\" style=\"fill: red;\"></rect></g><g id=\"mod-label\"><text text-anchor=\"start\" font-size=\"20\" transform=\"translate(529.6272727272727,168)rotate(-90)\" style=\"\">l_A</text><text text-anchor=\"start\" font-size=\"20\" transform=\"translate(529.6272727272727,335)rotate(-90)\" style=\"\">l_B</text></g><g id=\"mod-x_axis\" fill=\"none\" font-size=\"10\" font-family=\"sans-serif\" text-anchor=\"middle\" transform=\"translate(0, 335)\"><path class=\"domain\" stroke=\"currentColor\" d=\"M1.5,6V0.5H640.5V6\"></path><g class=\"tick\" opacity=\"1\" transform=\"translate(320.5,0)\"><line stroke=\"currentColor\" y2=\"6\"></line><text fill=\"currentColor\" y=\"0\" dy=\".35em\" x=\"9\" transform=\"rotate(90)\" style=\"text-anchor: start;\">x_AAA</text></g><g id=\"mod-x_title\"><text fill=\"currentColor\" text-anchor=\"middle\" font-size=\"1.25em\" transform=\"translate(320.5, 55)\">x_title</text></g></g><g id=\"mod-y_axis\" fill=\"none\" font-size=\"10\" font-family=\"sans-serif\" text-anchor=\"end\"><path class=\"domain\" stroke=\"currentColor\" d=\"M-6,1.5H0.5V335.5H-6\"></path><g class=\"tick\" opacity=\"1\" transform=\"translate(0,84.5)\"><line stroke=\"currentColor\" x2=\"-6\"></line><text fill=\"currentColor\" x=\"-9\" dy=\"0.32em\">y_AAA</text></g><g class=\"tick\" opacity=\"1\" transform=\"translate(0,251.5)\"><line stroke=\"currentColor\" x2=\"-6\"></line><text fill=\"currentColor\" x=\"-9\" dy=\"0.32em\">y_BBB</text></g><g id=\"mod-y_title\"><text fill=\"currentColor\" text-anchor=\"middle\" font-size=\"1.25em\" transform=\"translate(-51, 168)rotate(-90)\">y_title</text></g></g><g id=\"mod-z_axis\"><g transform=\"translate(635,0)\"><svg width=\"20\" height=\"335\" viewBox=\"0,0,20,335\" style=\"overflow: visible; display: block;\"><g><rect x=\"5\" y=\"6\" height=\"161\" width=\"10\" fill=\"red\"></rect><rect x=\"5\" y=\"168\" height=\"161\" width=\"10\" fill=\"red\"></rect></g><g transform=\"translate(20,0)\" fill=\"none\" font-size=\"10\" font-family=\"sans-serif\" text-anchor=\"start\"><g class=\"tick\" opacity=\"1\" transform=\"translate(0,87.5)\"><line stroke=\"currentColor\" x2=\"0\"></line><text fill=\"currentColor\" x=\"3\" dy=\"0.32em\">A</text></g><g class=\"tick\" opacity=\"1\" transform=\"translate(0,249.5)\"><line stroke=\"currentColor\" x2=\"0\"></line><text fill=\"currentColor\" x=\"3\" dy=\"0.32em\">B</text></g><text x=\"-331\" y=\"5\" fill=\"currentColor\" text-anchor=\"start\" font-weight=\"bold\" class=\"title\"></text></g></svg></g></g></g></svg>"

